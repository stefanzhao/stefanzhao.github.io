{"remainingRequest":"/Users/stefan/Desktop/camping/campingfront/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/stefan/Desktop/camping/campingfront/src/pages/search/Search.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/stefan/Desktop/camping/campingfront/src/pages/search/Search.vue","mtime":1567273228973},{"path":"/Users/stefan/Desktop/camping/campingfront/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/stefan/Desktop/camping/campingfront/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/stefan/Desktop/camping/campingfront/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/stefan/Desktop/camping/campingfront/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport SearchList from './components/CompsiteList'\nimport SearchMap from './components/Map'\nimport axios from 'axios'\nexport default {\n  name: 'Search',\n  components: {\n    SearchList,\n    SearchMap\n  },\n  data () {\n    return {\n      mapList: [],\n      fliterList: [],\n      orgMap: []\n    }\n  },\n  methods: {\n    getListInfo () {\n      axios.get('http://localhost:8080/data/maplist.json')\n        .then(this.getListInfosucc)\n    },\n    getListInfosucc (res) {\n      res = res.data\n      if (res.ret && res.data) {\n        const data = res.data\n        this.mapList = data.mapList\n        for (let i in this.mapList) {\n          var dis = this.$options.methods.distance(this.mapList[i].lat, this.mapList[i].lon, -37.813330, 144.961177)\n          //console.log(dis)\n          dis = parseFloat(dis).toFixed(2)\n          this.$set(this.mapList[i], 'distance', dis)\n        }\n       // console.log(this.mapList)\n      }\n    },\n    fliterHeritage () {\n      const filterList = []\n      for (let i in this.mapList) {\n        if (this.mapList[i].heritage === 'Y') {\n          filterList.push(this.mapList[i])\n          //console.log(filterList)\n        }\n      }\n      this.mapList = filterList\n    },\n    filterPicnic () {\n      const filterList = []\n      for (let i in this.mapList) {\n        if (this.mapList[i].picnic === 'Y') {\n          filterList.push(this.mapList[i])\n         // console.log(filterList)\n        }\n      }\n      this.mapList = filterList\n    },\n    distance (lat1, lon1, lat2, lon2) {\n      var p = 0.017453292519943295 // Math.PI / 180\n      var c = Math.cos\n      var a = 0.5 - c((lat2 - lat1) * p) / 2 +\n        c(lat1 * p) * c(lat2 * p) *\n        (1 - c((lon2 - lon1) * p)) / 2\n\n      return 12742 * Math.asin(Math.sqrt(a)) // 2 * R; R = 6371 km\n    },\n    sortDistance () {\n      function compare (a, b) {\n        if (a.distance < b.distance) { return -1 }\n        if (a.distance > b.distance) { return 1 }\n        return 0\n      }\n      return this.mapList.sort(compare)\n    }\n\n  },\n  mounted () {\n    this.getListInfo()\n  }\n}\n",{"version":3,"sources":["Search.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"Search.vue","sourceRoot":"src/pages/search","sourcesContent":["<template>\n<div>\n  <nav class=\"navbar navbar-expand-lg navbar-dark fixed-top \" id=\"mainNav\">\n    <div class=\"container\">\n      <router-link class=\"navbar-brand js-scroll-trigger\" to=\"/\">Camping Me</router-link>\n      <button class=\"navbar-toggler navbar-toggler-right\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarResponsive\" aria-controls=\"navbarResponsive\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n        Menu\n        <i class=\"fas fa-bars\"></i>\n      </button>\n      <div class=\"collapse navbar-collapse flex-column  ml-lg-0 ml-3 \" id=\"navbarResponsive\">\n        <ul class=\"navbar-nav text-uppercase ml-auto\">\n          <li class=\"nav-item\">\n            <a class=\"nav-link js-scroll-trigger\" >Help</a>\n          </li>\n          <li class=\"nav-item\">\n            <a class=\"nav-link js-scroll-trigger\">Sign Up</a>\n          </li>\n          <li class=\"nav-item\">\n            <a class=\"nav-link js-scroll-trigger\">Log in</a>\n          </li>\n        </ul>\n        <ul class=\"navbar-nav text-uppercase ml-auto\">\n          <li class=\"nav-item\">\n            <a class=\"nav-link js-scroll-trigger\" @click=\"sortDistance\">sort by distance</a>\n          </li>\n          <li class=\"nav-item\">\n            <a class=\"nav-link js-scroll-trigger\" @click=\"fliterHeritage\">heritage</a>\n          </li>\n          <li class=\"nav-item\">\n            <a class=\"nav-link js-scroll-trigger\" @click=\"filterPicnic\">picnic</a>\n          </li>\n        <form class=\"form-inline ml-auto\">\n          <input class=\"form-control mr-sm-2\" type=\"search\" placeholder=\"Search\" aria-label=\"Search\">\n          <button class=\"btn btn-outline-light my-2 my-sm-0\" type=\"submit\">Search</button>\n        </form>\n        </ul>\n      </div>\n    </div>\n  </nav>\n\n  <div class=\"row\">\n    <div class=\"col-sm-6\"  id=\"searchlist\">\n      <search-list :list=\"mapList\"></search-list>\n    </div>\n    <div class=\"col-sm-6 \" id=\"searchmap\">\n      <search-map></search-map>\n    </div>\n  </div>\n\n  <footer>\n    <div class=\"container\">\n      <div class=\"row\">\n        <div class=\"col-md-4\">\n          <span class=\"copyright\">Copyright &copy; Camping Me 2019</span>\n        </div>\n      </div>\n    </div>\n  </footer>\n  </div>\n</template>\n\n<script>\nimport SearchList from './components/CompsiteList'\nimport SearchMap from './components/Map'\nimport axios from 'axios'\nexport default {\n  name: 'Search',\n  components: {\n    SearchList,\n    SearchMap\n  },\n  data () {\n    return {\n      mapList: [],\n      fliterList: [],\n      orgMap: []\n    }\n  },\n  methods: {\n    getListInfo () {\n      axios.get('http://localhost:8080/data/maplist.json')\n        .then(this.getListInfosucc)\n    },\n    getListInfosucc (res) {\n      res = res.data\n      if (res.ret && res.data) {\n        const data = res.data\n        this.mapList = data.mapList\n        for (let i in this.mapList) {\n          var dis = this.$options.methods.distance(this.mapList[i].lat, this.mapList[i].lon, -37.813330, 144.961177)\n          //console.log(dis)\n          dis = parseFloat(dis).toFixed(2)\n          this.$set(this.mapList[i], 'distance', dis)\n        }\n       // console.log(this.mapList)\n      }\n    },\n    fliterHeritage () {\n      const filterList = []\n      for (let i in this.mapList) {\n        if (this.mapList[i].heritage === 'Y') {\n          filterList.push(this.mapList[i])\n          //console.log(filterList)\n        }\n      }\n      this.mapList = filterList\n    },\n    filterPicnic () {\n      const filterList = []\n      for (let i in this.mapList) {\n        if (this.mapList[i].picnic === 'Y') {\n          filterList.push(this.mapList[i])\n         // console.log(filterList)\n        }\n      }\n      this.mapList = filterList\n    },\n    distance (lat1, lon1, lat2, lon2) {\n      var p = 0.017453292519943295 // Math.PI / 180\n      var c = Math.cos\n      var a = 0.5 - c((lat2 - lat1) * p) / 2 +\n        c(lat1 * p) * c(lat2 * p) *\n        (1 - c((lon2 - lon1) * p)) / 2\n\n      return 12742 * Math.asin(Math.sqrt(a)) // 2 * R; R = 6371 km\n    },\n    sortDistance () {\n      function compare (a, b) {\n        if (a.distance < b.distance) { return -1 }\n        if (a.distance > b.distance) { return 1 }\n        return 0\n      }\n      return this.mapList.sort(compare)\n    }\n\n  },\n  mounted () {\n    this.getListInfo()\n  }\n}\n</script>\n\n<style lang=\"stylus\" scoped>\n  .map-container-6{\n    overflow:hidden;\n    padding-bottom:56.25%;\n    position:relative;\n    height:0;\n  }\n  .map-container-6 iframe{\n    left:0;\n    top:0;\n    height:100%;\n    width:100%;\n    position:absolute;\n  }\n  #mainNav\n   background : #1d2124\n  .card-img\n    position:relative\n    top:50%\n    transform:translateY(-50%)\n    padding-left :.4rem\n  #searchlist\n    padding-top : 10rem\n    padding-left : 2rem\n  #searchmap\n    padding-top :10rem\n</style>\n"]}]}